<?php
// Auto-generated by CrossPacket - do not modify manually

declare(strict_types=1);

namespace App\DataPackets;

use DateTimeImmutable;
use DateTimeInterface;
use JsonSerializable;

/**
 * Test packet containing ALL supported types for comprehensive testing
 */
class ComprehensivePacket implements JsonSerializable
{
    public const TYPE = '/test/ComprehensivePacket';

    /** @var ?int Integer field for testing int serialization */
    private ?int $int_field = null;
    /** @var ?float Float field for testing float serialization */
    private ?float $float_field = null;
    /** @var ?float Double precision field for testing */
    private ?float $double_field = null;
    /** @var ?string String field for testing string serialization */
    private ?string $string_field = null;
    /** @var ?bool Boolean field for testing bool serialization */
    private ?bool $bool_field = null;
    /** @var ?DateTimeImmutable DateTime field for testing datetime serialization */
    private ?DateTimeImmutable $datetime_field = null;
    /** @var ?string Time-only field for testing time serialization */
    private ?string $time_field = null;
    /** @var ?array List field for testing list serialization */
    private ?array $list_field = null;
    /** @var ?array Integer list field for testing typed list serialization */
    private ?array $list_int_field = null;
    /** @var ?array String list field for testing typed list serialization */
    private ?array $list_string_field = null;
    /** @var ?array Map field for testing map serialization */
    private ?array $map_field = null;
    /** @var ?array Embedded map field for testing embedded map serialization */
    private ?array $embedded_map_field = null;
    /** @var ?array String-keyed dynamic map field */
    private ?array $map_string_dynamic_field = null;
    /** @var ?string Bytes field for testing binary serialization */
    private ?string $bytes_field = null;

    public function __construct(
        ?int $int_field = null,
        ?float $float_field = null,
        ?float $double_field = null,
        ?string $string_field = null,
        ?bool $bool_field = null,
        ?DateTimeImmutable $datetime_field = null,
        ?string $time_field = null,
        ?array $list_field = null,
        ?array $list_int_field = null,
        ?array $list_string_field = null,
        ?array $map_field = null,
        ?array $embedded_map_field = null,
        ?array $map_string_dynamic_field = null,
        ?string $bytes_field = null
    )
    {
        $this->int_field = $int_field;
        $this->float_field = $float_field;
        $this->double_field = $double_field;
        $this->string_field = $string_field;
        $this->bool_field = $bool_field;
        $this->datetime_field = $datetime_field;
        $this->time_field = $time_field;
        $this->list_field = $list_field;
        $this->list_int_field = $list_int_field;
        $this->list_string_field = $list_string_field;
        $this->map_field = $map_field;
        $this->embedded_map_field = $embedded_map_field;
        $this->map_string_dynamic_field = $map_string_dynamic_field;
        $this->bytes_field = $bytes_field;
    }

    public function getIntField(): ?int
    {
        return $this->int_field;
    }

    public function setIntField(int $int_field): self
    {
        $this->int_field = $int_field;
        return $this;
    }

    public function getFloatField(): ?float
    {
        return $this->float_field;
    }

    public function setFloatField(float $float_field): self
    {
        $this->float_field = $float_field;
        return $this;
    }

    public function getDoubleField(): ?float
    {
        return $this->double_field;
    }

    public function setDoubleField(float $double_field): self
    {
        $this->double_field = $double_field;
        return $this;
    }

    public function getStringField(): ?string
    {
        return $this->string_field;
    }

    public function setStringField(string $string_field): self
    {
        $this->string_field = $string_field;
        return $this;
    }

    public function getBoolField(): ?bool
    {
        return $this->bool_field;
    }

    public function setBoolField(bool $bool_field): self
    {
        $this->bool_field = $bool_field;
        return $this;
    }

    public function getDatetimeField(): ?DateTimeImmutable
    {
        return $this->datetime_field;
    }

    public function setDatetimeField(DateTimeImmutable $datetime_field): self
    {
        $this->datetime_field = $datetime_field;
        return $this;
    }

    public function getTimeField(): ?string
    {
        return $this->time_field;
    }

    public function setTimeField(string $time_field): self
    {
        $this->time_field = $time_field;
        return $this;
    }

    public function getListField(): ?array
    {
        return $this->list_field;
    }

    public function setListField(array $list_field): self
    {
        $this->list_field = $list_field;
        return $this;
    }

    public function getListIntField(): ?array
    {
        return $this->list_int_field;
    }

    public function setListIntField(array $list_int_field): self
    {
        $this->list_int_field = $list_int_field;
        return $this;
    }

    public function getListStringField(): ?array
    {
        return $this->list_string_field;
    }

    public function setListStringField(array $list_string_field): self
    {
        $this->list_string_field = $list_string_field;
        return $this;
    }

    public function getMapField(): ?array
    {
        return $this->map_field;
    }

    public function setMapField(array $map_field): self
    {
        $this->map_field = $map_field;
        return $this;
    }

    public function getEmbeddedMapField(): ?array
    {
        return $this->embedded_map_field;
    }

    public function setEmbeddedMapField(array $embedded_map_field): self
    {
        $this->embedded_map_field = $embedded_map_field;
        return $this;
    }

    public function getMapStringDynamicField(): ?array
    {
        return $this->map_string_dynamic_field;
    }

    public function setMapStringDynamicField(array $map_string_dynamic_field): self
    {
        $this->map_string_dynamic_field = $map_string_dynamic_field;
        return $this;
    }

    public function getBytesField(): ?string
    {
        return $this->bytes_field;
    }

    public function setBytesField(string $bytes_field): self
    {
        $this->bytes_field = $bytes_field;
        return $this;
    }

    public function jsonSerialize(): array
    {
        return [
            'packetType' => self::TYPE,
            'int_field' => $this->int_field,
            'float_field' => $this->float_field,
            'double_field' => $this->double_field,
            'string_field' => $this->string_field,
            'bool_field' => $this->bool_field,
            'datetime_field' => $this->datetime_field?->format(\DateTimeInterface::ATOM),
            'time_field' => $this->time_field,
            'list_field' => $this->list_field,
            'list_int_field' => $this->list_int_field,
            'list_string_field' => $this->list_string_field,
            'map_field' => $this->map_field,
            'embedded_map_field' => $this->embedded_map_field,
            'map_string_dynamic_field' => $this->map_string_dynamic_field,
            'bytes_field' => $this->bytes_field,
        ];
    }

    public function toJson(): string
    {
        return json_encode($this->jsonSerialize(), JSON_THROW_ON_ERROR);
    }

    public static function fromJson(string $json): self
    {
        $data = json_decode($json, true, 512, JSON_THROW_ON_ERROR);
        $instance = new self();
        if (isset($data['int_field'])) {
            $instance->setIntField($data['int_field']);
        }
        if (isset($data['float_field'])) {
            $instance->setFloatField($data['float_field']);
        }
        if (isset($data['double_field'])) {
            $instance->setDoubleField($data['double_field']);
        }
        if (isset($data['string_field'])) {
            $instance->setStringField($data['string_field']);
        }
        if (isset($data['bool_field'])) {
            $instance->setBoolField($data['bool_field']);
        }
        if (isset($data['datetime_field'])) {
            $instance->setDatetimeField(new \DateTimeImmutable($data['datetime_field']));
        }
        if (isset($data['time_field'])) {
            $instance->setTimeField($data['time_field']);
        }
        if (isset($data['list_field'])) {
            $instance->setListField($data['list_field']);
        }
        if (isset($data['list_int_field'])) {
            $instance->setListIntField($data['list_int_field']);
        }
        if (isset($data['list_string_field'])) {
            $instance->setListStringField($data['list_string_field']);
        }
        if (isset($data['map_field'])) {
            $instance->setMapField($data['map_field']);
        }
        if (isset($data['embedded_map_field'])) {
            $instance->setEmbeddedMapField($data['embedded_map_field']);
        }
        if (isset($data['map_string_dynamic_field'])) {
            $instance->setMapStringDynamicField($data['map_string_dynamic_field']);
        }
        if (isset($data['bytes_field'])) {
            $instance->setBytesField($data['bytes_field']);
        }
        return $instance;
    }

    public function toMsgPack(): string
    {
        return msgpack_pack($this->jsonSerialize());
    }

    public static function fromMsgPack(string $data): self
    {
        $arr = msgpack_unpack($data);
        $instance = new self();
        if (isset($arr['int_field'])) {
            $instance->setIntField($arr['int_field']);
        }
        if (isset($arr['float_field'])) {
            $instance->setFloatField($arr['float_field']);
        }
        if (isset($arr['double_field'])) {
            $instance->setDoubleField($arr['double_field']);
        }
        if (isset($arr['string_field'])) {
            $instance->setStringField($arr['string_field']);
        }
        if (isset($arr['bool_field'])) {
            $instance->setBoolField($arr['bool_field']);
        }
        if (isset($arr['datetime_field'])) {
            $instance->setDatetimeField(new \DateTimeImmutable($arr['datetime_field']));
        }
        if (isset($arr['time_field'])) {
            $instance->setTimeField($arr['time_field']);
        }
        if (isset($arr['list_field'])) {
            $instance->setListField($arr['list_field']);
        }
        if (isset($arr['list_int_field'])) {
            $instance->setListIntField($arr['list_int_field']);
        }
        if (isset($arr['list_string_field'])) {
            $instance->setListStringField($arr['list_string_field']);
        }
        if (isset($arr['map_field'])) {
            $instance->setMapField($arr['map_field']);
        }
        if (isset($arr['embedded_map_field'])) {
            $instance->setEmbeddedMapField($arr['embedded_map_field']);
        }
        if (isset($arr['map_string_dynamic_field'])) {
            $instance->setMapStringDynamicField($arr['map_string_dynamic_field']);
        }
        if (isset($arr['bytes_field'])) {
            $instance->setBytesField($arr['bytes_field']);
        }
        return $instance;
    }
}
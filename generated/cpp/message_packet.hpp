// Auto-generated by CrossPacket - do not modify manually
#pragma once

#include <string>
#include <vector>
#include <optional>
#include <cstdint>
#include <cstring>
#include <stdexcept>
#include <yyjson.h>
#include <msgpack.hpp>

namespace packets {

/// @brief A chat message packet for real-time communication
class MessagePacket {
public:
    static constexpr const char* TYPE = "/chat/MessagePacket";

    MessagePacket() = default;
    MessagePacket(const std::string& sender_id, const std::string& content, const std::string& timestamp);

    const std::string& GetSenderId() const { return sender_id_; }
    const std::string& GetContent() const { return content_; }
    const std::string& GetTimestamp() const { return timestamp_; }

    void SetSenderId(const std::string& value) { sender_id_ = value; }
    void SetContent(const std::string& value) { content_ = value; }
    void SetTimestamp(const std::string& value) { timestamp_ = value; }

    std::string ToJson() const;
    static MessagePacket FromJson(const std::string& json);
    std::vector<uint8_t> ToMsgPack() const;
    static MessagePacket FromMsgPack(const std::vector<uint8_t>& data);

    MSGPACK_DEFINE_MAP(type_, sender_id_, content_, timestamp_);

private:
    std::string type_ = "/chat/MessagePacket";
    std::string sender_id_;
    std::string content_;
    std::string timestamp_;
};

} // namespace packets
// Auto-generated by CrossPacket - do not modify manually
using System;
using System.Collections.Generic;
using System.Text.Json;
using System.Text.Json.Serialization;
using MessagePack;

namespace CrossPacket
{
    /// <summary>
    /// Example packet demonstrating field-level validation overrides
    /// </summary>
    [MessagePackObject]
    public class UserProfilePacket
    {
        public const string TYPE = "/example/UserProfilePacket";

        [Key("packetType")]
        [JsonPropertyName("packetType")]
        public string Type { get; set; } = TYPE;

        /// <summary>Unique user identifier</summary>
        [Key("user_id")]
        [JsonPropertyName("user_id")]
        public long UserId { get; set; }

        /// <summary>Username (alphanumeric, 3-30 chars)</summary>
        [Key("username")]
        [JsonPropertyName("username")]
        public string Username { get; set; } = "";

        /// <summary>Email address (max 255 chars, overrides global max_string_length)</summary>
        [Key("email")]
        [JsonPropertyName("email")]
        public string Email { get; set; } = "";

        /// <summary>User biography (max 500 chars, allows empty)</summary>
        [Key("bio")]
        [JsonPropertyName("bio")]
        public string? Bio { get; set; }

        /// <summary>User age (0-150, overrides global int limits)</summary>
        [Key("age")]
        [JsonPropertyName("age")]
        public long? Age { get; set; }

        /// <summary>Account balance (no NaN/Infinity allowed)</summary>
        [Key("balance")]
        [JsonPropertyName("balance")]
        public double Balance { get; set; }

        /// <summary>User tags (max 10 items, overrides global max_list_size)</summary>
        [Key("tags")]
        [JsonPropertyName("tags")]
        public List<string> Tags { get; set; } = new List<string>();

        /// <summary>User preferences (max 50 entries, max depth 2)</summary>
        [Key("preferences")]
        [JsonPropertyName("preferences")]
        public Dictionary<string, object> Preferences { get; set; } = new Dictionary<string, object>();

        /// <summary>Avatar image (max 1MB, overrides global max_bytes_length)</summary>
        [Key("avatar")]
        [JsonPropertyName("avatar")]
        public byte[]? Avatar { get; set; }

        /// <summary>Account creation timestamp</summary>
        [Key("created_at")]
        [JsonPropertyName("created_at")]
        public DateTimeOffset CreatedAt { get; set; }

        /// <summary>Last login timestamp</summary>
        [Key("last_login")]
        [JsonPropertyName("last_login")]
        public DateTimeOffset? LastLogin { get; set; }

        public UserProfilePacket() { }

        public UserProfilePacket(long userId, string username, string email, string? bio, long? age, double balance, List<string> tags, Dictionary<string, object> preferences, byte[]? avatar, DateTimeOffset createdAt, DateTimeOffset? lastLogin)
        {
            this.UserId = userId;
            this.Username = username;
            this.Email = email;
            this.Bio = bio;
            this.Age = age;
            this.Balance = balance;
            this.Tags = tags;
            this.Preferences = preferences;
            this.Avatar = avatar;
            this.CreatedAt = createdAt;
            this.LastLogin = lastLogin;
        }

        public string ToJson()
        {
            return JsonSerializer.Serialize(this);
        }

        public static UserProfilePacket? FromJson(string json)
        {
            return JsonSerializer.Deserialize<UserProfilePacket>(json);
        }

        public byte[] ToMsgPack()
        {
            return MessagePackSerializer.Serialize(this);
        }

        public static UserProfilePacket FromMsgPack(byte[] data)
        {
            return MessagePackSerializer.Deserialize<UserProfilePacket>(data);
        }
    }
}